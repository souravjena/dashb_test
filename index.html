<!DOCTYPE html>
<html>
<head>
	<title>JSON Auto Update Test</title>
</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script>
	$(document).ready(function() {
	    // Fetch the initial table
	    refreshTable();

	    // Fetch every 1 second
	    setInterval(refreshTable, 1000);
	});

	function refreshTable(){
	    
		// var trHTML = '';	    
	    
	    $.getJSON('https://spreadsheets.google.com/feeds/list/1eIqCvbWFyvxfpQeC8qavUFgKNElymR21GWlQb7rVRQk/1/public/values?alt=json', function(data) {
	    	
		    	var trHTML = '';

		    	for (var i = 0; i < data.feed.entry.length; ++i) {
	            	var myData_map, myData_order;

		            trHTML += '<tr><td>' + data.feed.entry[i].gsx$city.$t + '</td><td>' + data.feed.entry[i].gsx$pick.$t + '</td><td>' + data.feed.entry[i].gsx$ship.$t + '</td></tr>';

		            var json_data = {
		                    "City": data.feed.entry[i].gsx$city.$t,
		                    "Picking" : data.feed.entry[i].gsx$pick.$t,
		                    "Shipping" : data.feed.entry[i].gsx$ship.$t,
		                    "Latitude": parseFloat(data.feed.entry[i].gsx$latitude.$t),
		                    "Longitude": parseFloat(data.feed.entry[i].gsx$longitude.$t)
		             		};
	            }

	            console.log(trHTML);
	    		$('#tableContent').html(trHTML);
	    		var trHTML = '';

	    	});

	    
	}
</script>

<body>


<table id="location" border='1'>
    <tr>
    	<th>City</th>
    	<th>Picking</th>
    	<th>Shipping</th>
    </tr>
    <tbody id="tableContent">

	</tbody>
</table>



</body>


</html>